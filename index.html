<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<!-- Issue 9 Fix: Correct viewport meta syntax -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Open Directory Finder - Direct Download Almost Anything</title>

	<!-- SEO Meta Tags -->
	<meta name="description"
		content="Find direct download links for almost anything. TV Series, Movies, Books, Music, Software, Games. Take advantage of powerful advanced search to find open directories.">
	<meta name="keywords"
		content="open directory, direct download, movies, games, music, software, ebooks, pdf, mp3, index of">
	<meta name="author" content="OpenDirectory Finder">

	<!-- Issue 10 Fix: Security meta tags -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<meta name="referrer" content="strict-origin-when-cross-origin">

	<!-- Issue 8 Fix: Favicon -->
	<link rel="icon" type="image/svg+xml" href="favicon.svg">
	<link rel="apple-touch-icon" href="favicon.svg">

	<!-- Issue 3 Fix: Updated to Bootstrap 5.3 (latest) -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

	<!-- Bootstrap Icons -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" rel="stylesheet">

	<!-- Issue 1 Fix: External CSS file -->
	<link rel="stylesheet" href="css/styles.css">
</head>

<body>
	<!-- Skip to main content for accessibility -->
	<a href="#main" class="visually-hidden-focusable">Skip to main content</a>

	<!-- Header - Desktop -->
	<header class="d-none d-md-block text-center py-4">
		<img src="assets/icons/google.svg" alt="Search Engine Logo" id="logo" width="48" height="48" class="mb-3">
		<h1 class="h4">Open Directory Finder</h1>
		<p class="text-muted">Get direct download links for almost anything</p>
	</header>

	<!-- Header - Mobile -->
	<header class="d-md-none mobile-header">
		<h1>Open Directory Search</h1>
		<p class="text-muted small">Get direct download links for almost anything</p>
		<hr>
	</header>

	<!-- Main Content -->
	<main id="main" class="container">
		<form id="searchForm" class="search-container" role="search" aria-label="Open Directory Search">
			<!-- Hidden form fields for state -->
			<input type="hidden" name="fileType" value="" id="fileType">
			<input type="hidden" name="resType" value="" id="resType">
			<input type="hidden" name="engine" value="google" id="engine">

			<div class="row justify-content-center">
				<div class="col-lg-8 col-md-10">
					<div class="input-group">
						<!-- File Type Dropdown -->
						<div class="dropdown">
							<button id="ddbutton" type="button" class="btn btn-outline-secondary dropdown-toggle"
								data-bs-toggle="dropdown" aria-expanded="false" aria-label="Select file type">
								<i class="bi bi-asterisk"></i> All Files
							</button>
							<ul class="dropdown-menu" aria-labelledby="ddbutton">
								<!-- Issue 7 Fix: Using data attributes instead of onclick -->
								<li>
									<a class="dropdown-item" href="#" data-type="video">
										<i class="bi bi-film"></i> TV/Movies/Video
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-type="books">
										<i class="bi bi-book"></i> Books
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-type="music">
										<i class="bi bi-music-note-beamed"></i> Music
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-type="software">
										<i class="bi bi-disc"></i> Software/ISO/Games
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-type="images">
										<i class="bi bi-image"></i> Images
									</a>
								</li>
								<li>
									<hr class="dropdown-divider">
								</li>
								<li>
									<a class="dropdown-item" href="#" data-type="other">
										<i class="bi bi-asterisk"></i> All Files
									</a>
								</li>
							</ul>
						</div>

						<!-- Search Engine Dropdown -->
						<div class="dropdown">
							<button id="egbutton" type="button" class="btn btn-outline-secondary dropdown-toggle"
								data-bs-toggle="dropdown" aria-expanded="false" aria-label="Select search engine">
								<i class="bi bi-search"></i> Google
							</button>
							<ul class="dropdown-menu" aria-labelledby="egbutton">
								<!-- Issue 5 Fix: Updated search engines (removed dead ones) -->
								<li>
									<a class="dropdown-item" href="#" data-engine="google">
										<i class="bi bi-google"></i> Google
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-engine="duckduckgo">
										<i class="bi bi-shield-check"></i> DuckDuckGo
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-engine="startpage">
										<i class="bi bi-incognito"></i> Startpage
									</a>
								</li>
								<li>
									<a class="dropdown-item" href="#" data-engine="brave">
										<i class="bi bi-shield-lock"></i> Brave Search
									</a>
								</li>
								<li>
									<hr class="dropdown-divider">
								</li>
								<li>
									<a class="dropdown-item" href="#" data-engine="filepursuit">
										<i class="bi bi-folder2-open"></i> FilePursuit
									</a>
								</li>
							</ul>
						</div>

						<!-- Search Input -->
						<input type="search" name="query" id="query" class="form-control"
							placeholder="Search anything..." autocomplete="off" autocapitalize="off" spellcheck="false"
							aria-label="Search query" required minlength="2" maxlength="500">

						<!-- Search Button -->
						<button type="submit" class="btn btn-search" aria-label="Search">
							<i class="bi bi-search"></i>
						</button>
					</div>

					<!-- Issue 4 Fix: Error message container -->
					<div id="errorMessage" class="error-message" role="alert" aria-live="polite"></div>

					<!-- Keyboard shortcut hint -->
					<p class="text-muted small text-center mt-2">
						<kbd>Ctrl</kbd> + <kbd>K</kbd> to focus search
					</p>
				</div>
			</div>
		</form>
	</main>

	<!-- Footer -->
	<footer class="text-center text-muted py-4 mt-5">
		<small>
			Open Directory Finder &mdash; Find direct downloads using advanced search operators
		</small>
	</footer>

	<!-- Issue 3 Fix: Updated to Bootstrap 5.3 (no jQuery needed!) -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>

	<!-- Issue 1 Fix: External JavaScript file -->
	<script src="js/app.js" defer></script>
</body>

</html>